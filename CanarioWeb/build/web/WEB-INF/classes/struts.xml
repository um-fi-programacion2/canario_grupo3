<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<constant name="struts.enable.DynamicMethodInvocation" value="false" />
	<constant name="struts.devMode" value="false" />
	<package name="default" extends="struts-default">

		<action name="register" class="view.RegisterAction">
			<result name="success" type="chain">login</result>
			<result name="fail">/index.jsp</result>
                        <result name="input">/index.jsp</result>

		</action>
                
                <action name="login" class="view.LoginAction">
                
                    <result name="success">/home.jsp</result>
			<result name="fail">/index.jsp</result>
		</action>	
                     <action name="logout" class="view.LogoutAction">
                    <result name="OK">/index.jsp</result>
                    <result name="FAIL">/home.jsp</result>
                    
                </action>   

		
                <action name="sendtwit" class="view.TwitAction">
                    <result name="success">/home.jsp</result>
                    <result name="fail">/home.jsp</result>
                    
                </action>
                
                 <action name="listar" class="view.ListarTwits">
                    <result name="fin">/listarTwits.jsp</result>
                    <result name="fail">/listarTwits.jsp</result>
                    
                </action>
                <action name="listarpublico" class="view.ListarPublicoTwits">
                    <result name="fin">/listarPublico.jsp</result>
                    <result name="fail">/listarPublico.jsp</result>
                    
                </action>
                <action name="GuardarPerfil" class="view.PerfilAction">
                    <result name="success">/perfil.jsp</result>
                    <result name="fail">/perfil.jsp</result>
                    
                </action>

                <action name="userImage"
                    class="view.FileUploadAction">
                    <interceptor-ref name="fileUpload">
                        <param name="maximumSize">2097152</param>
                        <param name="allowedTypes">
                            image/png,image/gif,image/jpeg,image/pjpeg
                        </param>
                    </interceptor-ref>
                         <interceptor-ref name="defaultStack"></interceptor-ref>
                            <result name="success">perfil.jsp</result>
                             <result name="input">perfil.jsp</result>
                </action>


   
                <action name="changeFollowState" class="view.CambiarRelacionAction">
                  <result name="success" type="chain">publico</result>
                  
                    
                </action>
                <action name="changeState" class="view.CambiarRelacionAction">
                  <result name="success" type="chain">/home.jsp</result>
                  
                    
                </action>
                
                 <action name="publico" class="view.publicoAction">
                    <result name="success">/publico.jsp</result>
                    <result name="fail">/publico.jsp</result>
                    
                </action>
                 <action name="config" class="view.ConfigPerfilAction">
                    <result name="bien">/perfil.jsp</result>
                    <result name="fail">/perfil.jsp</result>
                    
                </action>
                
                 <action name="guardarFlags" class="view.GuardarFlagsAction">
                    <result name="success" type="chain">config</result>
                    <result name="fail">/home.jsp</result>
                    
                </action>
                
                 <action name="listarFollowers" class="view.ListarFollowersAction">
                     <result name="bien">/followers.jsp</result>
                    <result name="fail">/home.jsp</result>
                     
                 </action>
                 <action name="listarFollowings" class="view.ListarFollowingsAction">
                     <result name="bien">/followings.jsp</result>
                    <result name="fail">/home.jsp</result>
                     
                 </action>
                 <action name="followUsuario" class="view.FollowAction">
                     <result name="bien" type="chain">listarFollowers</result>
                    <result name="fail">/home.jsp</result>
                     
                 </action>
                 
                <action name="unfollowUsuario" class="view.UnFollowAction">
                     <result name="bien" type="chain">listarFollowers</result>
                     
                    <result name="fail">/home.jsp</result>
                     
                 </action>
                 <action name="unfollowU" class="view.UnFollowAction">
                     <result name="bien" type="chain">listarFollowings</result>
                     
                    <result name="fail">/home.jsp</result>
                     
                 </action>
                 <action name="retweet" class="view.RetweetAction">
                     <result name="bien">/home.jsp</result>
                     <result name="fail">/home.jsp</result>
                     
                 </action>
                 
<<<<<<< HEAD
                  <action name="topUsuarios" class="view.Top10usuarios">
                     <result name="fin">topUsuarios.jsp</result>
                     <result name="fail">topUsuarios.jsp</result>
=======
                 <action name="busqueda" class="view.BusquedaAction">
                     <result name="bien">/busqueda.jsp</result>
                     <result name="fail">/perfil.jsp</result>
>>>>>>> bc2396dfeb910e371e3d6cdcb731f508806a8bf2
                     
                 </action>
                 
	</package>
        
 <package name="api" namespace="/" extends="json-default">
      <action name="twit" class="api.Twit">
       	   <result type="json" />
      </action>
       <action name="timeline" class="api.Timeline">
       	   <result type="json" />
      </action>
       <action name="friends" class="api.Friends">
       	   <result type="json" />
      </action>
       <action name="search" class="api.Search">
       	   <result type="json" />
      </action>
      <action name="follow" class="api.Follow">
       	   <result type="json" />
      </action>
      <action name="unfollow" class="api.Unfollow">
       	   <result type="json" />
      </action>
    </package>
 
</struts>
