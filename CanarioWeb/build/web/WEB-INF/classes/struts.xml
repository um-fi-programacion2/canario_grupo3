<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<constant name="struts.enable.DynamicMethodInvocation" value="false" />
	<constant name="struts.devMode" value="false" />
	<package name="default" extends="struts-default">

		<action name="register" class="view.RegisterAction">
			<result name="success">/home.jsp</result>
			<result name="fail">/index.jsp</result>
                        <result name="input">/index.jsp</result>

		</action>
                
                <action name="login" class="view.LoginAction">
                
                    <result name="success">/home.jsp</result>
			<result name="fail">/index.jsp</result>
		</action>	
                     <action name="logout" class="view.LogoutAction">
                    <result name="OK">/index.jsp</result>
                    <result name="FAIL">/home.jsp</result>
                    
                </action>   

		
                <action name="sendtwit" class="view.TwitAction">
                    <result name="success">/home.jsp</result>
                    <result name="fail">/home.jsp</result>
                    
                </action>
                
                 <action name="listar" class="view.ListarTwits">
                    <result name="fin">/listarTwits.jsp</result>
                    <result name="fail">/listarTwits.jsp</result>
                    
                </action>
                
                <action name="GuardarPerfil" class="view.PerfilAction">
                    <result name="success">/perfil.jsp</result>
                    <result name="fail">/perfil.jsp</result>
                    
                </action>

                <action name="userImage"
                    class="view.FileUploadAction">
                    <interceptor-ref name="fileUpload">
                        <param name="maximumSize">2097152</param>
                        <param name="allowedTypes">
                            image/png,image/gif,image/jpeg,image/pjpeg
                        </param>
                    </interceptor-ref>
                         <interceptor-ref name="defaultStack"></interceptor-ref>
                            <result name="success">perfil.jsp</result>
                             <result name="input">perfil.jsp</result>
                </action>


   
                <action name="changeFollowState" class="view.CambiarRelacionAction">
                  <result name="success" type="chain">publico</result>
                  
                    
                </action>
                
                 <action name="publico" class="view.publicoAction">
                    <result name="success">/publico.jsp</result>
                    <result name="fail">/publico.jsp</result>
                    
                </action>
                 <action name="config" class="view.ConfigPerfilAction">
                    <result name="bien">/publico</result>
                    <result name="fail">/publico</result>
                    
                </action>
                
	</package>
        
 <package name="api" namespace="/" extends="json-default">
      <action name="twit" class="api.Twit">
       	   <result type="json" />
      </action>
       <action name="timeline" class="api.Timeline">
       	   <result type="json" />
      </action>
       <action name="friends" class="api.Friends">
       	   <result type="json" />
      </action>
       <action name="search" class="api.Search">
       	   <result type="json" />
      </action>
      <action name="follow" class="api.Follow">
       	   <result type="json" />
      </action>
      <action name="unfollow" class="api.Unfollow">
       	   <result type="json" />
      </action>
    </package>
 
</struts>
